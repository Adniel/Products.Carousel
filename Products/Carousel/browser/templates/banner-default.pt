<div class="carousel-banners"
    tal:define="banners context/getBanners;
        settings context/getSettings;
        elements settings/banner_elements;">
    <tal:banner tal:repeat="banner banners">
        <div tal:attributes="class string:carousel-banner carousel-banner-${repeat/banner/number};"
            class="carousel-banner">
            <a tal:condition="python:'image' in elements"
                tal:attributes="href banner/getRemoteUrl;
                    title banner/Title;"
                class="carousel-image">
                <img tal:replace="structure python:banner.tag()"/>
            </a>
            <div tal:condition="python:'title' in elements or 'text' in elements"
                class="carousel-text">
                <a tal:condition="python:'title' in elements"
                    tal:attributes="href banner/getRemoteUrl;"
                    tal:content="banner/Title"
                    class="carousel-title">
                    Banner title
                </a>
                <div tal:define="text banner/getText;" 
                    tal:condition="python:text and 'text' in elements"
                    tal:content="structure text">
                    Body text
                </div>
            </div>
        </div>
    </tal:banner>
</div>